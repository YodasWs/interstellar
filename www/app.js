"use strict";function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||Object.prototype.toString.call(arr)==="[object Arguments]")){return}var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}!function(t){var e={};function r(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=e,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==_typeof(t)&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t){r.d(o,n,function(e){return t[e]}.bind(null,n))}return o},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([function(t,e){var r=function(){var t=function t(_t){return _t.map(function(t){return[t]})};function e(){}var r=function r(t,e){return new Array(t).fill(0).map(function(t){return new Array(e).fill(0)})},o={flatten:function flatten(t){return t.reduce(function(t,e){return t.concat(e)},[])},identity:function identity(t){var e=r(t,t);return e.forEach(function(t,e){return t[e]=1}),e},transpose:function transpose(t){var e=r(t[0].length,t.length);return t.forEach(function(t,r){t.forEach(function(t,o){e[o][r]=t})}),e},add:function add(t,e){if(t.length===e.length&&t[0].length===e[0].length)return"number"==typeof t[0]?t.map(function(t,r){return t+e[r]}):t.map(function(t,r){return t.map(function(t,o){return t+e[r][o]})});console.error("Error! Matrices must be same size!")},multiply:function multiply(e,o){if("number"==typeof o)return"number"==typeof e[0]?e.map(function(t){return t*o}):e.map(function(t){return t.map(function(t){return t*o})});if(e[0].length!==o.length)return void console.error("Error! Matrices are incorrect size!");o[0]instanceof Array||(o=t(o));var n=r(e.length,o[0].length);return e.forEach(function(t,r){o[0].forEach(function(t,a){n[r][a]=o.reduce(function(t,n,i){return t+e[r][i]*o[i][a]},0)})}),n}},n=function n(t,e){return t[0]instanceof Array&&(t=o.flatten(t)),e[0]instanceof Array&&(e=o.flatten(e)),[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]},a=function a(t,e){if(t[0]instanceof Array&&(t=o.flatten(t)),e[0]instanceof Array&&(e=o.flatten(e)),t.length===e.length)return t.reduce(function(r,o,n){return r+t[n]*e[n]},0);console.error("Error! Vectors must be same size!")},i=function i(t,e,r){var n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:3;var a=[t,e,r].map(function(t){return t*Math.PI/180}),i=o.identity(n),s=o.identity(n),h=o.identity(n);return i[1][1]=Math.cos(a[0]),i[1][2]=Math.sin(a[0]),i[2][1]=-Math.sin(a[0]),i[2][2]=Math.cos(a[0]),s[0][0]=Math.cos(a[1]),s[0][2]=-Math.sin(a[1]),s[2][0]=Math.sin(a[1]),s[2][2]=Math.cos(a[1]),h[0][0]=Math.cos(a[2]),h[0][1]=Math.sin(a[2]),h[1][0]=-Math.sin(a[2]),h[1][1]=Math.cos(a[2]),o.multiply(o.multiply(i,s),h)},s=i(180*Math.asin(Math.tan(30*Math.PI/180))/Math.PI,45,0);return e.prototype=_objectSpread({},e.prototype,{},o,{create:r,isometric:s,axonometric:i,crossProduct:n,dotProduct:a,form2dCol:t,form2dRow:function form2dRow(t){return[t]},rotateAbout:function rotateAbout(t,e,r,n){var a=arguments.length>4&&arguments[4]!==undefined?arguments[4]:3;t*=Math.PI/180;var i=[e,r,n],s=1-Math.cos(t),h=Math.cos(t),l=Math.sin(t),c=o.identity(a);return c[0][0]=s*i[0]*i[0]+h,c[0][1]=s*i[0]*i[1]-l*i[2],c[0][2]=s*i[0]*i[2]+l*i[1],c[1][0]=s*i[1]*i[0]+l*i[2],c[1][1]=s*i[1]*i[1]+h,c[1][2]=s*i[1]*i[2]-l*i[0],c[2][0]=s*i[2]*i[0]-l*i[1],c[2][1]=s*i[2]*i[1]+l*i[0],c[2][2]=s*i[2]*i[2]+h,c},rotateTo:function rotateTo(t,e,r){var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:3;var s=function(t){t[0]instanceof Array&&(t=o.flatten(t));var e=Math.hypot.apply(Math,_toConsumableArray(t));return e?o.multiply(t,1/e):new Array(t.length).fill(0)}([t,e,r]),h=n([0,0,1],s),l=Math.hypot.apply(Math,_toConsumableArray(h)),c=a([0,0,1],s),p=[[0,-h[2],h[1]],[h[2],0,-h[0]],[-h[1],h[0],0]],u=o.add(o.identity(3),o.add(p,o.multiply(o.multiply(p,p),(1-c)/Math.pow(l,2))));switch(i){case 3:return u;case 4:return[[].concat(_toConsumableArray(u[0]),[0]),[].concat(_toConsumableArray(u[1]),[0]),[].concat(_toConsumableArray(u[2]),[0]),[0,0,0,1]];default:return matrix.identity(i);}},rotation:function rotation(){for(var _len=arguments.length,t=new Array(_len),_key=0;_key<_len;_key++){t[_key]=arguments[_key]}t=t.map(function(t){return t*Math.PI/180});var e=[[1,0,0],[0,Math.cos(t[2]),Math.sin(t[2])],[0,-Math.sin(t[2]),Math.cos(t[2])]],r=[[Math.cos(t[1]),0,Math.sin(t[1])],[0,1,0],[-Math.sin(t[1]),0,Math.cos(t[1])]],n=[[Math.cos(t[0]),Math.sin(t[0]),0],[-Math.sin(t[0]),Math.cos(t[0]),0],[0,0,1]];return o.multiply(o.multiply(n,r),e)},toUnitVector:function toUnitVector(t){t[0]instanceof Array&&(t=this.flatten(t));var e=Math.hypot.apply(Math,_toConsumableArray(t));return e?this.multiply(t,1/e):new Array(t.length).fill(0)},inverseTranspose:function inverseTranspose(t){if(4===t.length&&(t=this.flatten(t)),16!==t.length)return console.error("We only do inverse on 4\xD74 matrices!"),this.identity(4);var e=t[0],r=t[1],o=t[2],n=t[3],a=t[4],i=t[5],s=t[6],h=t[7],l=t[8],c=t[9],p=t[10],u=t[11],d=t[12],m=t[13],y=t[14],f=t[15],g=e*i-r*a,M=e*s-o*a,v=e*h-n*a,P=r*s-o*i,L=r*h-n*i,x=o*h-n*s,A=l*m-c*d,b=l*y-p*d,I=l*f-u*d,S=c*y-p*m,T=c*f-u*m,_=p*f-u*y,C=1/(g*_-M*T+v*S+P*I-L*b+x*A);return[[(+i*_-s*T+h*S)*C,(-a*_+s*I-h*b)*C,(+a*T-i*I+h*A)*C,(-a*S+i*b-s*A)*C],[(-r*_+o*T-n*S)*C,(+e*_-o*I+n*b)*C,(-e*T+r*I-n*A)*C,(+e*S-r*b+o*A)*C],[(+m*x-y*L+f*P)*C,(-d*x+y*v-f*M)*C,(+d*L-m*v+f*g)*C,(-d*P+m*M-y*g)*C],[(-c*x+p*L-u*P)*C,(+l*x-p*v+u*M)*C,(-l*L+c*v-u*g)*C,(+l*P-c*M+p*g)*C]]},lookAt:function lookAt(t,e,r){var o=this.multiply(this.toUnitVector(this.add(e,this.multiply(t,-1))),1);if(Math.hypot(o)<1e-6)return console.error("Eye and Center cannot be the same point!"),{x:[1,0,0],y:[0,1,0],z:[0,0,1],rotation:this.identity(4)};var n=this.toUnitVector(this.crossProduct(r,o)),a=this.toUnitVector(this.crossProduct(o,n));return{x:n,y:a,z:o,rotation:this.transpose([[].concat(_toConsumableArray(n),[-this.dotProduct(n,t)]),[].concat(_toConsumableArray(a),[-this.dotProduct(a,t)]),[].concat(_toConsumableArray(o),[-this.dotProduct(o,t)]),[0,0,0,1]])}}}),e}();t.exports=new r},function(t,e,r){t.exports=r(2)},function(t,e,r){r(3),yodasws.page("home").setRoute({template:"pages/home.html",route:"/"})},function(t,e,r){yodasws.page("pageGalaxy").setRoute({template:"pages/galaxy/galaxy.html",route:"/galaxy/"}).on("load",function(){var t=r(4),e=r(0),o=function(){var r=document.querySelector("canvas"),n=r.getContext("webgl");if(!n)return console.error("No canvas context!"),{};var a=[];function i(t){if(!(t instanceof Array))throw new TypeError("Color must be an array of length 3 or 4");if(3===t.length&&t.push(1),4!==t.length)throw new TypeError("Color must be an array of length 3 or 4");this.color=t,this.rotation=e.identity(3),this.translation=new Array(3).fill(0),this.renderedNormals=[],this.renderedPoints=[],this.pointColors=[],this.indices=[],this.normals=[],this.points=[]}function s(_ref){var t=_ref.x,e=_ref.y,r=_ref.width,o=_ref.height,a=_ref.color;i.call(this,a),this.points=[[t,e,0],[t,e+o,0],[t+o,e+o,0],[t+o,e,0]],this.indices=[1,0,2,3],this.drawType=n.TRIANGLE_STRIP}function h(_ref2){var t=_ref2.r,e=_ref2.thickness,r=_ref2.color,_ref2$n=_ref2.n,o=_ref2$n===void 0?80:_ref2$n;i.call(this,r),this.drawType=n.TRIANGLE_STRIP;var a=0;for(var _r=0;_r<360;_r+=360/o){this.points.push([(t+Math.pow(-1,a%2)*e)*Math.cos(_r*Math.PI/180),(t+Math.pow(-1,a%2)*e)*Math.sin(_r*Math.PI/180),0]),this.indices.push(a++)}this.indices.push(0,1)}function l(_ref3){var t=_ref3.r,e=_ref3.color,_ref3$n=_ref3.n,r=_ref3$n===void 0?80:_ref3$n;i.call(this,e),this.points=[[0,0,0]],this.indices=[0],this.normals=[[0,0,1]],this.drawType=n.TRIANGLE_FAN;var o=0;for(var _e=0;_e<360;_e+=360/r){this.points.push([t*Math.cos(_e*Math.PI/180),t*Math.sin(_e*Math.PI/180),0]),this.normals.push([-1*Math.cos(_e*Math.PI/180+0),-1*Math.sin(_e*Math.PI/180+0),.5]),this.indices.push(++o)}this.indices.push(1)}function c(_ref4){var t=_ref4.r,e=_ref4.thickness,r=_ref4.color,_ref4$n=_ref4.n,o=_ref4$n===void 0?80:_ref4$n,_ref4$inward=_ref4.inward,a=_ref4$inward===void 0?!1:_ref4$inward;i.call(this,r),this.drawType=n.TRIANGLE_STRIP;var s=0;for(var _r2=0;_r2<360;_r2+=360/o){for(var _o=0;_o<2;_o++){this.points.push([t*Math.cos(_r2*Math.PI/180),t*Math.sin(_r2*Math.PI/180),Math.pow(-1,_o%2)*e]),this.indices.push(s++),this.normals.push([Math.cos(_r2*Math.PI/180+(a?0:Math.PI)),Math.sin(_r2*Math.PI/180+(a?0:Math.PI)),0])}}this.indices.push(0,1)}function p(_ref5){var t=_ref5.r,e=_ref5.height,r=_ref5.color,_ref5$inward=_ref5.inward,o=_ref5$inward===void 0?!1:_ref5$inward,_ref5$n=_ref5.n,a=_ref5$n===void 0?80:_ref5$n;i.call(this,r),this.drawType=n.TRIANGLE_FAN,this.points=[[0,0,e]],this.normals=[[0,0,o?1:-1]],this.indices=[0];var s=0;for(var _e2=0;_e2<360;_e2+=360/a){this.points.push([t*Math.cos(_e2*Math.PI/180),t*Math.sin(_e2*Math.PI/180),0]),this.normals.push([Math.cos(_e2*Math.PI/180+(o?0:Math.PI)),Math.sin(_e2*Math.PI/180+(o?0:Math.PI)),0]),this.indices.push(++s)}this.indices.push(1)}function u(_ref6){var t=_ref6.r,e=_ref6.color,_ref6$n=_ref6.n,r=_ref6$n===void 0?55:_ref6$n;i.call(this,e),this.drawType=n.TRIANGLE_STRIP,this.indices=[],this.normals=[],this.points=[];var o=0;for(var _e3=0;_e3<=180;_e3+=180/r){var _n=0===_e3||180===_e3?1:r;for(var _a=0;_a<360;_a+=360/_n){if((180!==_e3||180===_e3&&0===_a)&&(this.points.push([t*Math.sin(_e3*Math.PI/180)*Math.cos(_a*Math.PI/180),t*Math.sin(_e3*Math.PI/180)*Math.sin(_a*Math.PI/180),t*Math.cos(_e3*Math.PI/180)]),this.normals.push([Math.sin(_e3*Math.PI/180)*Math.cos(_a*Math.PI/180),Math.sin(_e3*Math.PI/180)*Math.sin(_a*Math.PI/180),Math.cos(_e3*Math.PI/180)])),this.indices.push(o),this.indices.push(Math.max(++o-_n,0)),180===_e3)for(var _t2=1;_t2<r+2;_t2++){this.indices.push(this.points.length-_t2),this.indices.push(this.points.length-1)}}}}function d(_ref7){var t=_ref7.r,e=_ref7.l,r=_ref7.color,_ref7$m=_ref7.m,o=_ref7$m===void 0?1:_ref7$m,_ref7$n=_ref7.n,a=_ref7$n===void 0?55:_ref7$n,_ref7$inward=_ref7.inward,s=_ref7$inward===void 0?!1:_ref7$inward;i.call(this,r),this.drawType=n.TRIANGLE_STRIP,this.indices=[],this.normals=[],this.points=[];var h=0;for(var _r3=0;_r3<=e;_r3+=e/o){var _e4=0;for(var _o2=0;_o2<=360;_o2+=360/a){this.points.push([t*Math.sin(_o2*Math.PI/180),t*Math.cos(_o2*Math.PI/180),_r3]),this.normals.push([(s?-1:1)*Math.sin(_o2*Math.PI/180),(s?-1:1)*Math.cos(_o2*Math.PI/180),0]),this.indices.push(h+_e4,a+_e4,h+_e4,a+_e4+h),_e4++}h++}this.indices.push(0,1)}return i.prototype={render:function render(){var _this=this;if(0===this.renderedPoints.length||0===this.renderedNormals.length||0===this.pointColors.length){this.renderedNormals=[],this.renderedPoints=[],this.pointColors=[];var _t3=e.multiply(this.rotation,e.form2dCol([0,0,1]));this.points.forEach(function(o,n){_this.pointColors.push(_this.color),0===_this.normals.length?_this.renderedNormals.push(_t3):_this.renderedNormals.push(e.multiply(_this.rotation,e.form2dCol(_this.normals[n]||[0,0,1]))),_this.renderedPoints.push(e.multiply(e.add(e.multiply(_this.rotation,e.form2dCol(o)),e.form2dCol(_this.translation)),1/r.width/5))})}return this},rotate:function rotate(){this.rotation=e.rotation.apply(e,arguments),this.renderedPoints=[]},rotateTo:function rotateTo(t,r,o){var n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:3;this.rotation=e.rotateTo(t,r,o,n),this.renderedPoints=[]},rotateAbout:function rotateAbout(t,r,o,n,a){this.rotation=e.rotateAbout(t,r,o,n,a),this.renderedPoints=[]},translate:function translate(t,e,r){this.translation=[t,e,r],this.renderedPoints=[]}},s.prototype={__proto__:i.prototype,constructor:s},h.prototype={__proto__:i.prototype,constructor:h},l.prototype={__proto__:i.prototype,constructor:l},c.prototype={__proto__:i.prototype,constructor:c},p.prototype={__proto__:i.prototype,constructor:p},u.prototype={__proto__:i.prototype,constructor:u},d.prototype={__proto__:i.prototype,constructor:d},{Circle:h,Sphere:u,Square:s,Cone:p,Disc:l,Ring:c,Tube:d,addShapes:function addShapes(){a.push.apply(a,arguments)},draw:function draw(r){var n=r-y;t.setCameraMatrix(e.multiply(e.rotateAbout.apply(e,[-n/50%360].concat(_toConsumableArray(g.y),[4])),g.rotation));var i=[];a.forEach(function(t){i.push(t.render())}),t.drawScene(i),requestAnimationFrame(o.draw)}}}();function n(){t.zoom(Number.parseInt(document.getElementById("zoom").value,10))}function a(t){t.target.closest("label").querySelector("output").innerText=t.target.value}t.setAmbientLight([.5,.5,.5]),t.setSpotlightColor([1,1,1]),t.rotateSpotlight(0,90,0),document.getElementById("zoom").addEventListener("input",n),n(),document.querySelectorAll("input[type=\"range\"]").forEach(function(t){t.addEventListener("input",a)});var i=[],s=[];r(5).forEach(function(t,e){var _ref8=t.α&&t.δ?[(t.α[0]+t.α[1]/60+t.α[2]/60/60)/12*Math.PI,(t.δ[0]+t.δ[1]/60+t.δ[2]/60/60)/180*Math.PI,35*t.d]:[null,null,null],_ref9=_slicedToArray(_ref8,3),r=_ref9[0],n=_ref9[1],a=_ref9[2];switch(t.type){case"star":{var _t4=new o.Sphere({r:5,color:[1,1,0],n:3});return _t4.translate(a*Math.cos(n)*Math.cos(r),a*Math.cos(n)*Math.sin(r),a*Math.sin(n)),void o.addShapes(_t4)}case"center":{var _e5=new o.Tube({r:1,l:t.d,color:[0,1,0,1],n:4});return i.push((t.α[0]+t.α[1]/60+t.α[2]/60/60)/12*180,t.δ[0]+t.δ[1]/60+t.δ[2]/60/60,0),void _e5.rotate.apply(_e5,i)}case"pole":{var _e6=new o.Tube({r:1,l:t.d,color:[1,1,0,1],n:4});return s.push((t.α[0]+t.α[1]/60+t.α[2]/60/60)/12*180,t.δ[0]+t.δ[1]/60+t.δ[2]/60/60,0),void _e6.rotate.apply(_e6,s)}}});var h=[0,0,0,.75],l=new o.Disc({r:700,color:h,n:20}),c=new o.Ring({r:701,thickness:10,color:h,inward:!1,n:20}),p=e.flatten(e.multiply(e.rotation.apply(e,i),e.form2dCol([0,0,1]))),u=e.flatten(e.multiply(e.rotation.apply(e,s),e.form2dCol([0,0,1]))),d=e.crossProduct(p,u),m=e.crossProduct(p,d);l.rotateTo.apply(l,_toConsumableArray(m)),c.rotateTo.apply(c,_toConsumableArray(m)),[p,d,m].forEach(function(t,e){var r=new o.Tube({r:1,l:700,color:new Array(4).fill(0).map(function(t,r){return e===r?1:3===r?1:0}),n:4,m:1});r.rotateTo.apply(r,_toConsumableArray(t)),o.addShapes(r)}),o.addShapes(l),o.addShapes(c);var y=performance.now(),f=[75,180,0],g={x:e.multiply(e.axonometric.apply(e,f),d),y:e.multiply(e.axonometric.apply(e,f),m),z:e.multiply(e.axonometric.apply(e,f),p),rotation:e.multiply(e.axonometric.apply(e,f.concat([4])),e.rotateTo.apply(e,_toConsumableArray(p).concat([4])))},M=e.multiply(e.rotateTo.apply(e,_toConsumableArray(p)),[0,1,0]);g.rotation=e.multiply(e.axonometric.apply(e,f.concat([4])),e.multiply(e.rotateAbout.apply(e,[180*Math.acos(Math.abs(e.dotProduct(m,M))/Math.hypot.apply(Math,_toConsumableArray(m))/Math.hypot.apply(Math,_toConsumableArray(M)))/Math.PI].concat(_toConsumableArray(p),[4])),e.rotateTo.apply(e,_toConsumableArray(p).concat([4])))),g.x=e.multiply(g.rotation,[1,0,0,1]).splice(0,3),g.y=e.multiply(g.rotation,[0,1,0,1]).splice(0,3),g.z=e.multiply(g.rotation,[0,0,1,1]).splice(0,3),function(){var e=document.querySelector("canvas");e.getContext("webgl")?(t.init(e,[0,0,0,1]),t.setCameraMatrix(g.rotation),requestAnimationFrame(o.draw)):console.error("Unable to initialize WebGL. Your browser or machine may not support it.")}()})},function(t,e,r){var o=r(0);console.log("matrix:",o),t.exports=function(){var t,e,r,n;var a=o.flatten(o.identity(4)),i=o.flatten(o.identity(4)),s=o.flatten(o.identity(3)),h=[.5,.5,.5],l=[.3,.7,.3];function c(t,e,r){var o=t.createShader(e);return t.shaderSource(o,r),t.compileShader(o),t.getShaderParameter(o,t.COMPILE_STATUS)?o:(console.error("An error occurred compiling the shaders: "+t.getShaderInfoLog(o)),t.deleteShader(o),null)}return{rotateCamera:function rotateCamera(){a=o.flatten([].concat(_toConsumableArray(o.axonometric.apply(o,arguments).map(function(t){return t.push(0)&&t})),[[0,0,0,1]])),i=o.flatten(o.inverseTranspose(a))},setAmbientLight:function setAmbientLight(t){h=t},setSpotlightColor:function setSpotlightColor(t){l=t},rotateSpotlight:function rotateSpotlight(){s=o.flatten(o.axonometric.apply(o,arguments))},setCameraMatrix:function setCameraMatrix(t){a=o.flatten(t),i=o.flatten(o.inverseTranspose(a))},drawScene:function drawScene(n){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT);var c=function(){return o.flatten([[t*e.canvas.height/e.canvas.width,0,0,0],[0,t,0,0],[0,0,-1,0],[0,0,0,1]])}();n.forEach(function(t){var n={indices:e.createBuffer(),normals:e.createBuffer()};t.points.forEach(function(t){}),[{array:t.pointColors,attrib:"vertexColor",numBytes:4},{array:t.renderedPoints,attrib:"vertexPosition",numBytes:3},{array:t.renderedNormals,attrib:"vertexNormal",numBytes:3}].forEach(function(t){e.bindBuffer(e.ARRAY_BUFFER,e.createBuffer()),e.bufferData(e.ARRAY_BUFFER,new Float32Array(o.flatten(t.array)),e.STATIC_DRAW),e.vertexAttribPointer(r.attribLocations[t.attrib],t.numBytes,e.FLOAT,!1,0,0),e.enableVertexAttribArray(r.attribLocations[t.attrib])}),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n.indices),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(t.indices),e.STATIC_DRAW),e.useProgram(r.program),e.uniformMatrix4fv(r.uniformLocations.projectionMatrix,!1,c),e.uniformMatrix4fv(r.uniformLocations.cameraMatrix,!1,a),e.uniformMatrix3fv(r.uniformLocations.dLightMatrix,!1,s),e.uniformMatrix4fv(r.uniformLocations.normalMatrix,!1,i),e.uniform3fv(r.uniformLocations.ambientLight,h),e.uniform3fv(r.uniformLocations.dLightColor,l),e.drawElements(t.drawType,t.indices.length,e.UNSIGNED_SHORT,0)})},lookAt:function lookAt(t,e,r){i=o.flatten(o.lookAt(t,e,r).rotation),a=o.flatten(o.inverseTranspose(i))},init:function init(t){var _e7;var o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[1,1,1,1];e=t.getContext("webgl"),n=function(t){var e=c(t,t.VERTEX_SHADER,"\n\t\tattribute vec4 aVertexPosition;\n\t\tattribute vec4 aVertexColor;\n\t\tuniform mat4 uProjectionMatrix;\n\t\tuniform mat4 uCameraMatrix;\n\t\tuniform mat4 uNormalMatrix;\n\t\tvarying highp vec4 vColor;\n\n\t\tuniform mat3 uLightMatrix;\n\t\tvarying highp vec3 vDirectionalVector;\n\n\t\tuniform vec3 uAmbientLight;\n\t\tvarying highp vec3 vAmbientLight;\n\n\t\tuniform vec3 uDLightColor;\n\t\tvarying highp vec3 vDLightColor;\n\n\t\tattribute vec3 aVertexNormal;\n\t\tvarying highp vec3 vTransformedNormal;\n\n\t\tvoid main(void) {\n\t\t\t// Each Point's Projected Position\n\t\t\tgl_Position = uProjectionMatrix * uCameraMatrix * aVertexPosition;\n\n\t\t\tvColor = aVertexColor;\n\t\t\tvAmbientLight = uAmbientLight;\n\t\t\tvDLightColor = uDLightColor;\n\n\t\t\t// Undo Camera Rotation to keep Lighting in constant position\n\t\t\tvTransformedNormal = mat3(uNormalMatrix) * aVertexNormal;\n\n\t\t\tvDirectionalVector = normalize(uLightMatrix * vec3(0, 0, 1));\n\t\t}\n\t"),r=c(t,t.FRAGMENT_SHADER,"\n\t\tvarying highp vec3 vLighting;\n\t\tvarying highp vec4 vColor;\n\t\tvarying highp vec3 vTransformedNormal;\n\t\tvarying highp vec3 vDirectionalVector;\n\t\tvarying highp vec3 vAmbientLight;\n\t\tvarying highp vec3 vDLightColor;\n\n\t\tvoid main(void) {\n\t\t\t// Directional Light\n\t\t\thighp float directional = max(dot(vTransformedNormal.xyz, vDirectionalVector), 0.0);\n\t\t\t// Apply Lighting on Vertex's Color\n\t\t\thighp vec3 vLighting = vAmbientLight + (vDLightColor * directional);\n\t\t\tgl_FragColor = vColor * vec4(vLighting, 1.0);\n\t\t}\n\t"),o=t.createProgram();if(t.attachShader(o,e),t.attachShader(o,r),t.linkProgram(o),!t.getProgramParameter(o,t.LINK_STATUS))return console.error("Unable to initialize the shader program: "+t.getProgramInfoLog(o)),null;return o}(e),r={program:n,attribLocations:{vertexPosition:e.getAttribLocation(n,"aVertexPosition"),vertexNormal:e.getAttribLocation(n,"aVertexNormal"),vertexColor:e.getAttribLocation(n,"aVertexColor")},uniformLocations:{projectionMatrix:e.getUniformLocation(n,"uProjectionMatrix"),cameraMatrix:e.getUniformLocation(n,"uCameraMatrix"),normalMatrix:e.getUniformLocation(n,"uNormalMatrix"),dLightMatrix:e.getUniformLocation(n,"uLightMatrix"),ambientLight:e.getUniformLocation(n,"uAmbientLight"),dLightColor:e.getUniformLocation(n,"uDLightColor")}},(_e7=e).clearColor.apply(_e7,_toConsumableArray(o)),e.clearDepth(1),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.enable(e.BLEND),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),e.blendEquation(e.FUNC_ADD),e.disable(e.CULL_FACE)},zoom:function zoom(e){t=50/e}}}()},function(t){t.exports=JSON.parse("[{\"name\":\"Sol\",\"type\":\"star\",\"\u03B1\":[0,0,0],\"\u03B4\":[0,0,0],\"d\":0},{\"name\":\"Sag A*\",\"type\":\"center\",\"\u03B1\":[17,45,40.0409],\"\u03B4\":[-29,0,28.118],\"d\":27000},{\"name\":\"North Pole\",\"type\":\"pole\",\"\u03B1\":[12,51.4,0],\"\u03B4\":[27.13,0,0],\"d\":27000},{\"name\":\"\u03B1 Centauri\",\"type\":\"star\",\"\u03B1\":[14,39,36.494],\"\u03B4\":[-60,50,2.3737],\"d\":4.365},{\"name\":\"Barnard's Star\",\"type\":\"star\",\"\u03B1\":[17,57,48.49803],\"\u03B4\":[4,41,36.2072],\"d\":5.958},{\"name\":\"Luhman 16\",\"type\":\"star\",\"\u03B1\":[10,49,18.723],\"\u03B4\":[-53,19,9.86],\"d\":6.516},{\"name\":\"WISE 0855-0714\",\"type\":\"star\",\"\u03B1\":[8,55,10.83],\"\u03B4\":[-7,14,42.5],\"d\":7.27},{\"name\":\"Wolf 359\",\"type\":\"star\",\"\u03B1\":[10,56,28.99],\"\u03B4\":[7,0,52],\"d\":7.86},{\"name\":\"Lalande 21185\",\"type\":\"star\",\"\u03B1\":[11,3,20.194],\"\u03B4\":[35,58,11.5682],\"d\":8.31},{\"name\":\"Sirius\",\"type\":\"star\",\"\u03B1\":[6,45,8.91728],\"\u03B4\":[-16,42,58.0171],\"d\":8.6},{\"name\":\"Luyten 726-8\",\"type\":\"star\",\"\u03B1\":[1,39,1.54],\"\u03B4\":[-17,57,1.8],\"d\":8.73},{\"name\":\"Ross 154\",\"type\":\"star\",\"\u03B1\":[18,49,49.36216],\"\u03B4\":[-23,50,10.4291],\"d\":9.6},{\"name\":\"Ross 248\",\"type\":\"star\",\"\u03B1\":[23,41,55.0361],\"\u03B4\":[44,10,38.825],\"d\":10.29},{\"name\":\"\u03B5 Eridani\",\"type\":\"star\",\"\u03B1\":[3,32,55.84496],\"\u03B4\":[-9,27,29.7312],\"d\":10.475},{\"name\":\"Lacaille 9352\",\"type\":\"star\",\"\u03B1\":[23,5,52.03604],\"\u03B4\":[-35,51,11.0475],\"d\":10.721},{\"name\":\"Ross 128\",\"type\":\"star\",\"\u03B1\":[11,47,44.3969],\"\u03B4\":[0,48,16.4049],\"d\":11.007},{\"name\":\"EZ Aquarii\",\"type\":\"star\",\"\u03B1\":[22,38,33.73],\"\u03B4\":[-15,17,57.3],\"d\":11.1},{\"name\":\"61 Cygni\",\"type\":\"star\",\"\u03B1\":[21,6,53.94],\"\u03B4\":[38,44,57.9],\"d\":11.406},{\"name\":\"Procyon\",\"type\":\"star\",\"\u03B1\":[7,39,18.1195],\"\u03B4\":[5,13,29.9552],\"d\":11.46},{\"name\":\"Struve 2398\",\"type\":\"star\",\"\u03B1\":[18,42,46.67934],\"\u03B4\":[59,37,49.4724],\"d\":11.5},{\"name\":\"Groombridge 34\",\"type\":\"star\",\"\u03B1\":[0,18,22.885],\"\u03B4\":[44,1,22.6373],\"d\":11.62},{\"name\":\"DX Cancri\",\"type\":\"star\",\"\u03B1\":[8,29,49.345],\"\u03B4\":[26,46,33.74],\"d\":11.8},{\"name\":\"\u03C4 Ceti\",\"type\":\"star\",\"\u03B1\":[1,44,4.08338],\"\u03B4\":[-15,56,14.9262],\"d\":11.905},{\"name\":\"\u03B5 Indi\",\"type\":\"star\",\"\u03B1\":[22,3,21.658],\"\u03B4\":[-56,47,9.52],\"d\":11.81},{\"name\":\"GJ 1061\",\"type\":\"star\",\"\u03B1\":[3,35,59.69],\"\u03B4\":[-44,30,45.3],\"d\":12.04},{\"name\":\"YZ Ceti\",\"type\":\"star\",\"\u03B1\":[1,12,30.6368],\"\u03B4\":[-16,59,56.3613],\"d\":12.108},{\"name\":\"Luyten's Star\",\"type\":\"star\",\"\u03B1\":[7,27,24.4991],\"\u03B4\":[5,13,32.827],\"d\":12.2},{\"name\":\"Teegarden's Star\",\"type\":\"star\",\"\u03B1\":[2,53,0.85],\"\u03B4\":[16,52,53.3],\"d\":12.58},{\"name\":\"SCR 1845-6357\",\"type\":\"star\",\"\u03B1\":[18,45,5.26],\"\u03B4\":[-63,57,47.8],\"d\":12.57},{\"name\":\"Kapteyn's Star\",\"type\":\"star\",\"\u03B1\":[5,11,50],\"\u03B4\":[-45,2,30],\"d\":12.76,\"v\":{\"\u03B1\":6.50508,\"\u03B4\":-5.73084,\"r\":245.2}},{\"name\":\"Lacaille 8760\",\"\u03B1\":[21,17,15.2697],\"\u03B4\":[-38,52,2.502],\"d\":12.87},{\"name\":\"Kruger 60\",\"type\":\"star\",\"\u03B1\":[22,27,59.4677],\"\u03B4\":[57,41,45.15],\"d\":13.18},{\"name\":\"DEN 1048-3956\",\"type\":\"star\",\"\u03B1\":[10,48,14.64],\"\u03B4\":[-39,56,6.24],\"d\":13.15},{\"name\":\"Ross 614\",\"type\":\"star\",\"\u03B1\":[6,29,23.401],\"\u03B4\":[-2,48,50.32],\"d\":13.36},{\"name\":\"UGPS J0722-0540\",\"type\":\"star\",\"\u03B1\":[7,22,27.29],\"\u03B4\":[-5,40,30],\"d\":13.4},{\"name\":\"Wolf 1061\",\"type\":\"star\",\"\u03B1\":[16,30,18.0584],\"\u03B4\":[-12,39,45.325],\"d\":14.04},{\"name\":\"Wolf 424\",\"type\":\"star\",\"\u03B1\":[12,33,17.38],\"\u03B4\":[9,1,15.8],\"d\":14.3},{\"name\":\"Van Maanen's Star\",\"type\":\"star\",\"\u03B1\":[0,49,9.89841],\"\u03B4\":[5,23,18.9931],\"d\":14.074},{\"name\":\"Gliese 1\",\"type\":\"star\",\"\u03B1\":[0,5,24.4279],\"\u03B4\":[-37,21,26.503],\"d\":14.173},{\"name\":\"WISE 1639-6847\",\"type\":\"star\",\"\u03B1\":[16,39,40.83],\"\u03B4\":[-68,47,38.6],\"d\":16.1},{\"name\":\"L 1159-16\",\"type\":\"star\",\"\u03B1\":[2,0,12.959],\"\u03B4\":[13,3,7.01],\"d\":14.5},{\"name\":\"Gliese 674\",\"type\":\"star\",\"\u03B1\":[17,28,39.9455],\"\u03B4\":[-46,53,42.6932],\"d\":14.839},{\"name\":\"Gliese 687\",\"type\":\"star\",\"\u03B1\":[17,36,25.8999],\"\u03B4\":[68,20,20.909],\"d\":14.77},{\"name\":\"LHS 292\",\"type\":\"star\",\"\u03B1\":[10,48,12.6],\"\u03B4\":[-11,20,14],\"d\":14.8},{\"name\":\"WISE J0521+1025\",\"type\":\"star\",\"\u03B1\":[5,21,26.349],\"\u03B4\":[10,25,27.41],\"d\":16.3},{\"name\":\"LP 145-141\",\"type\":\"star\",\"\u03B1\":[11,45,42.9205],\"\u03B4\":[-64,50,29.459],\"d\":15.11},{\"name\":\"G 208-44\",\"type\":\"star\",\"\u03B1\":[16,53,54.492],\"\u03B4\":[44,24,53.41],\"d\":14.81},{\"name\":\"Gliese 876\",\"type\":\"star\",\"\u03B1\":[22,53,16.7323],\"\u03B4\":[-14,15,49.3034],\"d\":15.25},{\"name\":\"LHS 288\",\"type\":\"star\",\"\u03B1\":[10,44,21.32],\"\u03B4\":[-61,12,35.44],\"d\":15.77},{\"name\":\"GJ 1022\",\"type\":\"star\",\"\u03B1\":[0,6,43.205],\"\u03B4\":[-7,32,16.83],\"d\":15.816},{\"name\":\"Groombridge 1618\",\"type\":\"star\",\"\u03B1\":[10,11,22.14051],\"\u03B4\":[49,27,15.2567],\"d\":15.89},{\"name\":\"DEN 0255-4700\",\"type\":\"star\",\"\u03B1\":[2,55,3.579],\"\u03B4\":[-47,0,50.99],\"d\":16.2},{\"name\":\"Gliese 412\",\"type\":\"star\",\"\u03B1\":[11,5,28.5777],\"\u03B4\":[43,31,36.394],\"d\":15.81},{\"name\":\"Gliese 832\",\"type\":\"star\",\"\u03B1\":[21,33,33.975],\"\u03B4\":[-49,0,32.4035],\"d\":16.194},{\"name\":\"AD Leonis\",\"type\":\"star\",\"\u03B1\":[10,19,36.277],\"\u03B4\":[19,52,12.06],\"d\":16},{\"name\":\"GJ 1005\",\"type\":\"star\",\"\u03B1\":[0,15,28.1109],\"\u03B4\":[-16,8,1.6303],\"d\":16.3}]")}]);